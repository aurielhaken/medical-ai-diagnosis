// Syst√®me de m√©decine universelle int√©grant toutes les approches th√©rapeutiques du monde

export interface UniversalTreatment {
  id: string;
  name: string;
  category: 'conventional' | 'soft' | 'traditional' | 'integrative';
  subcategory: string;
  description: string;
  origin: string;
  approach: 'scientific' | 'holistic' | 'energetic' | 'spiritual' | 'integrated';
  target: 'body' | 'mind' | 'energy' | 'spirit' | 'integrated';
  evidence: 'high' | 'moderate' | 'traditional' | 'anecdotal';
  contraindications: string[];
  sideEffects: string[];
  culturalContext?: string;
  preparation?: string;
  dosage?: string;
  duration?: string;
  frequency?: string;
}

export interface UniversalMedicineCategory {
  id: string;
  name: string;
  description: string;
  icon: string;
  color: string;
  approaches: UniversalTreatment[];
}

export const universalMedicineCategories: UniversalMedicineCategory[] = [
  {
    id: 'conventional',
    name: 'M√©decine Conventionnelle',
    description: 'Bas√©e sur la science, les preuves cliniques et la pharmacologie moderne',
    icon: 'üî¨',
    color: 'blue',
    approaches: [
      {
        id: 'general-medicine',
        name: 'M√©decine G√©n√©rale',
        category: 'conventional',
        subcategory: 'Diagnostic et traitement g√©n√©ral',
        description: 'Premier niveau de soins, diagnostic diff√©rentiel, pr√©vention',
        origin: 'Occident',
        approach: 'scientific',
        target: 'body',
        evidence: 'high',
        contraindications: ['Allergies sp√©cifiques'],
        sideEffects: ['Selon m√©dicament'],
        dosage: 'Selon prescription',
        duration: 'Selon condition',
        frequency: 'Selon protocole m√©dical'
      },
      {
        id: 'cardiology',
        name: 'Cardiologie',
        category: 'conventional',
        subcategory: 'Sp√©cialit√© cardiovasculaire',
        description: 'Diagnostic et traitement des maladies du c≈ìur et des vaisseaux',
        origin: 'Occident',
        approach: 'scientific',
        target: 'body',
        evidence: 'high',
        contraindications: ['Hypersensibilit√© aux m√©dicaments cardiovasculaires'],
        sideEffects: ['Selon traitement'],
        dosage: 'Selon prescription sp√©cialis√©e',
        duration: 'Souvent √† vie pour certaines conditions',
        frequency: 'Selon protocole cardiologique'
      },
      {
        id: 'neurology',
        name: 'Neurologie',
        category: 'conventional',
        subcategory: 'Syst√®me nerveux',
        description: 'Diagnostic et traitement des troubles neurologiques',
        origin: 'Occident',
        approach: 'scientific',
        target: 'body',
        evidence: 'high',
        contraindications: ['Selon condition neurologique'],
        sideEffects: ['Selon traitement'],
        dosage: 'Selon prescription neurologique',
        duration: 'Selon condition',
        frequency: 'Selon protocole'
      }
    ]
  },
  
  {
    id: 'soft-medicine',
    name: 'M√©decines Douces',
    description: 'Approches compl√©mentaires visant √† accompagner et pr√©venir',
    icon: 'üåø',
    color: 'green',
    approaches: [
      {
        id: 'phytotherapy',
        name: 'Phytoth√©rapie',
        category: 'soft',
        subcategory: 'Plantes m√©dicinales',
        description: 'Utilisation th√©rapeutique des plantes et de leurs extraits',
        origin: 'Universel',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'moderate',
        contraindications: ['Allergies aux plantes', 'Grossesse (certaines plantes)'],
        sideEffects: ['R√©actions allergiques possibles'],
        culturalContext: 'Utilis√©e dans toutes les cultures traditionnelles',
        preparation: 'Infusions, d√©coctions, teintures, g√©lules',
        dosage: 'Selon la plante et la condition',
        duration: 'Cures de 3-6 semaines',
        frequency: '2-3 fois par jour'
      },
      {
        id: 'aromatherapy',
        name: 'Aromath√©rapie',
        category: 'soft',
        subcategory: 'Huiles essentielles',
        description: 'Utilisation th√©rapeutique des huiles essentielles extraites des plantes',
        origin: 'France, Moyen-Orient',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'moderate',
        contraindications: ['Grossesse', '√âpilepsie', 'Hypertension'],
        sideEffects: ['Irritations cutan√©es', 'R√©actions allergiques'],
        culturalContext: 'Tradition mill√©naire en √âgypte, Gr√®ce, Inde',
        preparation: 'Diffusion, application cutan√©e, inhalation',
        dosage: '2-5 gouttes selon usage',
        duration: 'Cures de 1-3 semaines',
        frequency: '1-3 fois par jour'
      },
      {
        id: 'naturopathy',
        name: 'Naturopathie',
        category: 'soft',
        subcategory: 'M√©decine naturelle',
        description: 'Approche globale utilisant des moyens naturels pour stimuler les capacit√©s d\'auto-gu√©rison',
        origin: 'Europe, Am√©rique du Nord',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'moderate',
        contraindications: ['Urgences m√©dicales'],
        sideEffects: ['Rare, g√©n√©ralement bien tol√©r√©'],
        culturalContext: 'Philosophie de la nature comme gu√©risseur',
        preparation: 'Alimentation, plantes, eau, air, exercice',
        dosage: 'Selon protocole individualis√©',
        duration: 'Programmes de 3-6 mois',
        frequency: 'Quotidien'
      },
      {
        id: 'osteopathy',
        name: 'Ost√©opathie',
        category: 'soft',
        subcategory: 'Th√©rapie manuelle',
        description: 'Th√©rapie manuelle visant √† r√©tablir l\'√©quilibre structurel du corps',
        origin: '√âtats-Unis',
        approach: 'holistic',
        target: 'body',
        evidence: 'moderate',
        contraindications: ['Fractures r√©centes', 'Ost√©oporose s√©v√®re'],
        sideEffects: ['Douleurs temporaires', 'Fatigue'],
        culturalContext: 'Fond√©e sur l\'interd√©pendance structure-fonction',
        preparation: 'Examen physique complet',
        dosage: 'Sessions de 45-60 minutes',
        duration: '3-6 sessions',
        frequency: '1-2 fois par semaine'
      },
      {
        id: 'meditation-therapy',
        name: 'M√©ditation Th√©rapeutique',
        category: 'soft',
        subcategory: 'Mindfulness',
        description: 'Pratiques de pleine conscience pour r√©duire le stress et am√©liorer la sant√© mentale',
        origin: 'Bouddhisme, traditions contemplatives',
        approach: 'holistic',
        target: 'mind',
        evidence: 'moderate',
        contraindications: ['Psychoses actives'],
        sideEffects: ['Rare: anxi√©t√© temporaire'],
        culturalContext: 'Tradition mill√©naire en Asie',
        preparation: 'Position confortable, environnement calme',
        dosage: '10-30 minutes',
        duration: 'Pratique continue',
        frequency: 'Quotidien'
      }
    ]
  },

  {
    id: 'traditional-medicine',
    name: 'M√©decines Traditionnelles',
    description: 'Syst√®mes m√©dicaux mill√©naires bas√©s sur des visions √©nerg√©tiques du corps',
    icon: 'üåÄ',
    color: 'purple',
    approaches: [
      {
        id: 'traditional-chinese-medicine',
        name: 'M√©decine Traditionnelle Chinoise',
        category: 'traditional',
        subcategory: 'TCM',
        description: 'Syst√®me m√©dical bas√© sur l\'√©quilibre du Qi et des m√©ridiens √©nerg√©tiques',
        origin: 'Chine',
        approach: 'energetic',
        target: 'integrated',
        evidence: 'traditional',
        contraindications: ['Grossesse (certains points)', 'Troubles de coagulation'],
        sideEffects: ['H√©matomes mineurs', 'Fatigue temporaire'],
        culturalContext: 'Philosophie tao√Øste, √©quilibre Yin-Yang',
        preparation: 'Diagnostic par pouls et langue',
        dosage: 'Sessions de 30-60 minutes',
        duration: 'S√©ries de 6-12 sessions',
        frequency: '1-2 fois par semaine'
      },
      {
        id: 'ayurveda',
        name: 'Ayurveda',
        category: 'traditional',
        subcategory: 'M√©decine indienne',
        description: 'Syst√®me m√©dical indien bas√© sur l\'√©quilibre des doshas (Vata, Pitta, Kapha)',
        origin: 'Inde',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'traditional',
        contraindications: ['Selon constitution doshique'],
        sideEffects: ['R√©actions de purification'],
        culturalContext: 'Philosophie v√©dique, connexion corps-esprit-univers',
        preparation: 'Diagnostic constitutionnel (Prakriti)',
        dosage: 'Selon constitution et condition',
        duration: 'Programmes de 3-12 mois',
        frequency: 'Selon protocole ayurv√©dique'
      },
      {
        id: 'arabic-medicine',
        name: 'M√©decine Arabe Traditionnelle',
        category: 'traditional',
        subcategory: 'M√©decine proph√©tique',
        description: 'Syst√®me m√©dical bas√© sur les enseignements proph√©tiques et les plantes du d√©sert',
        origin: 'Monde arabe',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'traditional',
        contraindications: ['Selon condition et constitution'],
        sideEffects: ['R√©actions de d√©toxification'],
        culturalContext: 'Traditions proph√©tiques, plantes du d√©sert',
        preparation: 'Diagnostic par humeurs et temp√©raments',
        dosage: 'Selon condition et constitution',
        duration: 'Cures saisonni√®res',
        frequency: 'Selon protocole traditionnel'
      },
      {
        id: 'african-medicine',
        name: 'M√©decine Africaine Traditionnelle',
        category: 'traditional',
        subcategory: 'M√©decine ancestrale',
        description: 'Syst√®me m√©dical int√©grant plantes, rituels et connexion avec les anc√™tres',
        origin: 'Afrique',
        approach: 'spiritual',
        target: 'integrated',
        evidence: 'traditional',
        contraindications: ['Selon traditions locales'],
        sideEffects: ['R√©actions spirituelles'],
        culturalContext: 'Connexion avec les anc√™tres, plantes sacr√©es',
        preparation: 'Consultation avec gu√©risseur traditionnel',
        dosage: 'Selon traditions et rituels',
        duration: 'Selon condition spirituelle',
        frequency: 'Selon calendrier traditionnel'
      },
      {
        id: 'tibetan-medicine',
        name: 'M√©decine Tib√©taine',
        category: 'traditional',
        subcategory: 'M√©decine himalayenne',
        description: 'Syst√®me m√©dical m√©langeant ayurv√©da et bouddhisme tib√©tain',
        origin: 'Tibet',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'traditional',
        contraindications: ['Selon constitution tib√©taine'],
        sideEffects: ['R√©actions de purification'],
        culturalContext: 'Bouddhisme tib√©tain, montagnes sacr√©es',
        preparation: 'Diagnostic par pouls et urine',
        dosage: 'Selon constitution et saison',
        duration: 'Programmes saisonniers',
        frequency: 'Selon protocole tib√©tain'
      }
    ]
  },

  {
    id: 'integrative-medicine',
    name: 'M√©decine Int√©grative',
    description: 'Approche moderne combinant science et m√©decines traditionnelles',
    icon: '‚öïÔ∏è',
    color: 'indigo',
    approaches: [
      {
        id: 'functional-medicine',
        name: 'M√©decine Fonctionnelle',
        category: 'integrative',
        subcategory: 'M√©decine des causes',
        description: 'Approche qui recherche les causes profondes des d√©s√©quilibres',
        origin: '√âtats-Unis',
        approach: 'integrated',
        target: 'integrated',
        evidence: 'moderate',
        contraindications: ['Selon condition sp√©cifique'],
        sideEffects: ['R√©actions de d√©toxification'],
        culturalContext: 'Combinaison science moderne et approche holistique',
        preparation: 'Tests fonctionnels complets',
        dosage: 'Protocoles individualis√©s',
        duration: 'Programmes de 3-12 mois',
        frequency: 'Suivi r√©gulier'
      },
      {
        id: 'quantum-medicine',
        name: 'M√©decine Quantique',
        category: 'integrative',
        subcategory: 'M√©decine √©nerg√©tique',
        description: 'Approche bas√©e sur les principes de la physique quantique appliqu√©s √† la sant√©',
        origin: 'Occident moderne',
        approach: 'energetic',
        target: 'integrated',
        evidence: 'anecdotal',
        contraindications: ['Grossesse', 'Pacemaker'],
        sideEffects: ['R√©actions √©nerg√©tiques'],
        culturalContext: 'Physique quantique, conscience et mati√®re',
        preparation: '√âvaluation √©nerg√©tique',
        dosage: 'Sessions √©nerg√©tiques',
        duration: 'Programmes de 1-6 mois',
        frequency: 'Selon protocole √©nerg√©tique'
      },
      {
        id: 'mind-body-medicine',
        name: 'M√©decine Corps-Esprit',
        category: 'integrative',
        subcategory: 'Psychoneuroimmunologie',
        description: 'Approche int√©grant la connexion entre esprit, corps et syst√®me immunitaire',
        origin: 'Occident moderne',
        approach: 'holistic',
        target: 'integrated',
        evidence: 'moderate',
        contraindications: ['Selon condition psychologique'],
        sideEffects: ['R√©actions √©motionnelles'],
        culturalContext: 'Science moderne et traditions contemplatives',
        preparation: '√âvaluation psychosomatique',
        dosage: 'Programmes individualis√©s',
        duration: '3-12 mois',
        frequency: 'Sessions hebdomadaires'
      }
    ]
  }
];

export interface HolisticAssessment {
  body: {
    physical: string[];
    energetic: string[];
  };
  mind: {
    emotional: string[];
    mental: string[];
  };
  spirit: {
    purpose: string[];
    connection: string[];
  };
}

export function getUniversalTreatmentsForSymptom(symptom: string): UniversalTreatment[] {
  const allTreatments: UniversalTreatment[] = [];
  
  universalMedicineCategories.forEach(category => {
    category.approaches.forEach(treatment => {
      allTreatments.push(treatment);
    });
  });
  
  // Correspondances sympt√¥mes -> traitements
  const symptomMappings: Record<string, string[]> = {
    'Douleur thoracique': ['general-medicine', 'cardiology', 'acupuncture', 'osteopathy', 'traditional-chinese-medicine'],
    'Maux de t√™te': ['neurology', 'phytotherapy', 'aromatherapy', 'acupuncture', 'meditation-therapy'],
    'Anxi√©t√©': ['meditation-therapy', 'aromatherapy', 'ayurveda', 'mind-body-medicine'],
    'Fatigue': ['naturopathy', 'ayurveda', 'functional-medicine', 'tibetan-medicine'],
    'Insomnie': ['meditation-therapy', 'phytotherapy', 'aromatherapy', 'traditional-chinese-medicine'],
    'Douleur musculaire': ['osteopathy', 'aromatherapy', 'traditional-chinese-medicine', 'african-medicine'],
    'Digestif': ['naturopathy', 'ayurveda', 'traditional-chinese-medicine', 'functional-medicine']
  };
  
  const relevantTreatmentIds = symptomMappings[symptom] || [];
  return allTreatments.filter(treatment => 
    relevantTreatmentIds.includes(treatment.id)
  );
}

export function getHolisticRecommendations(symptoms: string[]): HolisticAssessment {
  return {
    body: {
      physical: [
        '√âvaluation m√©dicale conventionnelle',
        'Tests de laboratoire si n√©cessaire',
        'Exercice adapt√© √† la condition'
      ],
      energetic: [
        '√âquilibrage √©nerg√©tique (acupuncture, reiki)',
        'Harmonisation des chakras',
        'Travail sur les m√©ridiens'
      ]
    },
    mind: {
      emotional: [
        'Gestion du stress et des √©motions',
        'Techniques de relaxation',
        'M√©ditation et pleine conscience'
      ],
      mental: [
        'Reprogrammation des sch√©mas mentaux',
        'Visualisation positive',
        'Techniques de respiration'
      ]
    },
    spirit: {
      purpose: [
        'Recherche du sens et de la mission de vie',
        'Alignement avec les valeurs profondes',
        'D√©veloppement spirituel personnel'
      ],
      connection: [
        'Connexion avec la nature',
        'Relations harmonieuses',
        'Communion avec le divin'
      ]
    }
  };
}

export function generateIntegrativePlan(symptoms: string[], severity: string): {
  conventional: UniversalTreatment[];
  complementary: UniversalTreatment[];
  traditional: UniversalTreatment[];
  holistic: HolisticAssessment;
} {
  const conventional = universalMedicineCategories
    .find(cat => cat.id === 'conventional')?.approaches || [];
  
  const complementary = universalMedicineCategories
    .find(cat => cat.id === 'soft-medicine')?.approaches || [];
  
  const traditional = universalMedicineCategories
    .find(cat => cat.id === 'traditional-medicine')?.approaches || [];
  
  const holistic = getHolisticRecommendations(symptoms);
  
  return {
    conventional,
    complementary,
    traditional,
    holistic
  };
}
